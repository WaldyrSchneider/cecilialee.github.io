<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="ie ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]><html class="ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--><html lang="en"> <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Cecilia Lee - Fix Github 'GH001: Large files detected' with BFG Repo-Cleaner</title>
  <meta name="author" content="Cecilia Lee" />
  <meta name="description" content="The blog of Cecilia Lee" />
  <link rel="canonical" href="http://cecilialee.github.io//blog/2017/10/20/quick-fix-github-gh001-large-files-detected-with-bfg-repo-cleaner.html" />

  <link href="//fonts.googleapis.com/css?family=Open+Sans:600,800" rel="stylesheet" type="text/css">
  <link rel="shortcut icon" href="/favicon.png">
  <link rel="alternate" type="application/atom+xml" title="Cecilia Lee" href="http://cecilialee.github.io//atom.xml" />

  <link rel="stylesheet" href="/assets/css/all.css">
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha256-k2/8zcNbxVIh5mnQ52A0r3a6jAgMGxFJFE2707UxGCk= sha512-ZV9KawG2Legkwp3nAlxLIVFudTauWuBpC10uEafMHYL0Sarrz5A7G79kXh5+5+woxQ5HM559XX2UZjMJ36Wplg==" crossorigin="anonymous">
</head>
<body>
  <div class="container">
    <div class="four columns sidebar">
      <nav>
  <h1>Data Science Journal</h1>
  <!-- 
  <a href="/">
    
    <img src="/logo.png" id="logo" alt="Blog logo"/>
    
  </a>
  -->
  <h2>by <a href="/">Cecilia Lee</a>.</h2>
  <div id="bio">
    <p>A blog to share my dedicated journey in learning Data Science.</p>
    <p><a href="https://cecilialee.github.io/cv/" target="blank"><i class="fa fa-user fa-fw"></i> View Resume</a></p>
  </div>
  <div id="social">
    <!--Follow me:-->
<div id="stalker">
  
  <a title="ceciliahslee@gmail.com on Email" href="mailto:ceciliahslee@gmail.com">
    <i class="fa fa-envelope"></i>
  </a>
  

  
  <a title="cecilialee on Github" href="https://github.com/cecilialee">
    <i class="fa fa-github-alt"></i>
  </a>
  

  

  

  

  

  
  <a title="cecilialeehs on Twitter" href="https://twitter.com/cecilialeehs">
    <i class="fa fa-twitter"></i>
  </a>
  

    
  <a title="ceciliahslee on Medium" href="https://medium.com/@ceciliahslee">
    <i class="fa fa-medium"></i>
  </a>
  

  

  

  

  

  

  
  <a title="Atom feed" id="atom" href="/atom.xml">
    <i class="fa fa-rss-square"></i>
  </a>
  
</div>

  </div>

  <div id="tags">
    <span>
  
  
  
    <a href="/tag/api.html" rel="tag">
      api 
  
    ,
  
    </a>
  
    <a href="/tag/git.html" rel="tag">
      git 
  
    ,
  
    </a>
  
    <a href="/tag/github.html" rel="tag">
      github 
  
    ,
  
    </a>
  
    <a href="/tag/python.html" rel="tag">
      python 
  
    ,
  
    </a>
  
    <a href="/tag/requests.html" rel="tag">
      requests 
  
    
    
    </a>
  

</span>
  </div>
</nav>

    </div>

    <div class="eleven columns content">
      <p class="meta">
  October 20, 2017
  <a href="/">
    <i class="home fa fa-home"></i>
  </a>
</p>

<h1 class="title">Fix Github 'GH001: Large files detected' with BFG Repo-Cleaner</h1>

<span>
  
    <a href="/tag/git.html" rel="tag"> 
       git 
      
        ,
      
    </a>

    <a href="/tag/github.html" rel="tag"> 
       github 
      
      
      
    </a>

</span>

<div id="post">
  <p>Recently I’ve accidentally committed a large data file to Git while working on a data wrangling project. When I tried to push it to Github using <code>push -u origin master</code>, it failed of <code>remote error: GH001: Large files detected</code> because the large data file exceeded Github’s 100MB file size limit.</p>

<p>Here’s a view of the full error code:</p>

<div class="highlight"><pre><code class="language-text" data-lang="text">remote: error: GH001: Large files detected. You may want to try Git Large File Storage — https://git-lfs.github.com.
remote: error: Trace: s9116d865251981c96d8dd2cdf7ef464
remote: error: See http://git.io/iEPt8g for more information.
remote: error: File sample/large/data/file/path.json is 679.95 MB; this exceeds GitHub’s file size limit of 100.00 MB</code></pre></div>

<p>I can’t solve this by simply deleting the large file repository, as it has already been commited. The situation was even worsen since I’ve made few more commits ahead of the origin after this faultful commit.</p>

<p>Fortunately, there is a quick fix solution using a simple script called <a href="https://rtyley.github.io/bfg-repo-cleaner/">BFG Repo-Cleaner</a>. The main objective of BFG Repo-Cleaner is to remove large or troublesome files from our Git repository history. It works like <code>git-filter-branch</code>, but simpler, easier, and faster.</p>

<p>Here is a step by step guide:</p>

<ol>
  <li>First we download the cleaner from it’s website. Here is a link to the latest version: <a href="http://repo1.maven.org/maven2/com/madgag/bfg/1.12.16/bfg-1.12.16.jar">bfg-1.12.16.jar</a>. </li>
  <li>The only requirement to run the script is to have the <a href="http://java.com/en/download/manual.jsp">Java Runtime Environment</a> (Java 7 or above) installed. Note that it’s a script to be run in the <strong>command line</strong>. The following commands should be submitted in terminal (or equivalent).</li>
  <li>Before cleaning, we make a backup of our repository to ensure we don’t lose anything by running <code>git clone --mirror git://example.com/some-big-repo.git</code>. This is a bare repo, which means our normal files won’t be visible, but it’s a full copy of the Git database of our repository.</li>
  <li>Now we can clean our Git repository history by running <code>java -jar bfg.jar --strip-blobs-bigger-than 100M some-big-repo.git</code>.</li>
</ol>

<p>Viola! Problem fixed. We should now be able to push our commits to Github again.</p>


</div>

<div id="related">
  <h3>Related Posts</h3>
  <ul class="posts">
    
    <li>
      <span>08 Oct 2017 &raquo;</span> <a href="/blog/2017/10/08/get-currency-exhange-rates-with-currenylayerapi-in-python.html">Get Exchange Rates with currencylayer API in Python</a>
    </li>
    
  </ul>

  <!--
  <h3>Tags</h3>
  <span>
    
      <a href="/tag/git.html" rel="tag"> 
         git 
        
          ,
        
      </a>

      <a href="/tag/github.html" rel="tag"> 
         github 
        
        
        
      </a>

  </span>
  -->
</div>



      <div class="footer">
        <div class="disclaimer">
  

  <p>
    © Cecilia Lee, 2017 &mdash; built with <a href="http://jekyllrb.com/">Jekyll</a> using <a href="https://github.com/swanson/lagom">Lagom theme</a>
  </p>
</div>

      </div>
    </div>
  </div>


<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-xxxx-x']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

</body>
</html>
